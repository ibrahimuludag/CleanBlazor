@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication

@inject NavigationManager Navigation
@inject SignOutSessionStateManager SignOutManager

<AuthorizeView>
    <Authorized>
        <PersonCard Style="background-color: var(--mud-palette-drawer-background);color: var(--mud-palette-drawer-text);" />
        <MudDivider Class="mb-4" />
        <MudNavMenu>
            <MudText Typo="Typo.subtitle2" Color="Color.Inherit" Class="ml-4 my-3">Personal</MudText>
            <MudNavLink Href="/personal/dashboard" Match="NavLinkMatch.All" Icon="@Icons.Material.Outlined.Dashboard">Dashboard</MudNavLink>
            <MudNavLink Href="/personal/account" Icon="@Icons.Material.Outlined.Person">Account</MudNavLink>

            <MudText Typo="Typo.subtitle2" Color="Color.Inherit" Class="ml-4 my-3">Pages</MudText>
            <MudNavGroup Title="Utility" Icon="@Icons.Material.Outlined.Assignment" HideExpandIcon="true">
                <MudNavLink Href="/pages/utility/faq" Icon="@Icons.Material.Outlined.InsertDriveFile">Faq</MudNavLink>
            </MudNavGroup>
            <MudNavGroup Title="Samples" Icon="@Icons.Material.Outlined.Satellite" HideExpandIcon="true">
                <MudNavLink Href="/samples/application-info" Icon="@Icons.Material.Outlined.Info">App Info</MudNavLink>
                <MudNavLink Href="/samples/fetchdata" Icon="@Icons.Material.Outlined.Landscape">Weather Info</MudNavLink>
                <MudNavLink Href="/samples/user-claims" Icon="@Icons.Material.Outlined.Class">User Claims</MudNavLink>
            </MudNavGroup>
        </MudNavMenu>
    </Authorized>
    <NotAuthorized>
        <MudDivider Class="mb-4" />

        <MudNavMenu>
            <MudNavLink Href="/authentication/login" Icon="@Icons.Material.Outlined.Login">Login</MudNavLink>
        </MudNavMenu>
    </NotAuthorized>
</AuthorizeView>

<AuthorizeView Policy="@nameof(RapidBlazor.Shared.Policies.AdminPolicy)">
    <Authorized>
        <MudDivider Class="mb-4" />

        <MudNavMenu>
            <MudNavLink Href="/admin" Icon="@Icons.Material.Outlined.AdminPanelSettings">Admin</MudNavLink>
        </MudNavMenu>
    </Authorized>
</AuthorizeView>
